<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>七巧板</title>
</head>
<body>
    <canvas id="mycanvas" width="280" height="280"></canvas>
</body>
<script src="js/jquery-1.9.1.min.js"></script>
<script>
    //七巧板数据

    $(function () {
        var tangram_data = [{'complete_percent':0,'id':"1",'name':"研发部"},{'complete_percent':10,'id':"2",'name':"研发部"},{'complete_percent':20,'id':"2",'name':"研发部"},{'complete_percent':30,'id':"2",'name':"研发部"},{'complete_percent':40,'id':"2",'name':"研发部"},{'complete_percent':50,'id':"2",'name':"研发部"},{'complete_percent':60,'id':"2",'name':"研发部"},{'complete_percent':70,'id':"2",'name':"研发部"},{'complete_percent':80,'id':"2",'name':"研发部"},{'complete_percent':90,'id':"2",'name':"研发部"},{'complete_percent':100,'id':"2",'name':"研发部"},{'complete_percent':100,'id':"2",'name':"研发部"},{'complete_percent':100,'id':"2",'name':"研发部"},{'complete_percent':100,'id':"2",'name':"研发部"}];
        var c=document.getElementById("mycanvas");
        var ctx= c.getContext("2d");
        var colorList = ['#00bda0 ', ' #fd8a02  ', '#fed105', '#41b9e6', '#e64164', '#68dab1', '#0093c7 ', '#647ad7', '#d79764 ', '#e9da71 ', '#e641c5','#7741e6 ','#bd6ea8 ','#7dd5dd  '];
        var count=tangram_data.length;
        var arr=[];
        switch (count){
            case 1:
                arr= [{p: [[140, 40], [50, 200], [230, 200]],imgPos:[130,126]}];
                drawT(ctx, arr);
                break;
            case 2:
                arr= [{p: [[70, 275], [140, 205], [210, 275]],imgPos:[135,231]},
                    {p: [[140, 205], [140, 9], [238, 107]],imgPos:[175,96]}];
                drawT(ctx, arr);
                break;
            case 3:
                arr= [{p: [[70, 245], [210, 245], [140, 175]],imgPos:[135,201]},
                    {p: [[70, 245], [140, 175], [140, 35], [70, 105]],imgPos:[105,121]},
                    {p: [[140, 35], [85, 90], [42, 35]],imgPos:[85,36]}];
                drawT(ctx, arr);
                break;
            case 4:
                arr= [{p: [[70, 245], [210, 245], [140, 175]],imgPos:[135,201]},
                    {p: [[0, 175], [70, 105], [140, 175]],imgPos:[65,131]},
                    {p: [[140, 175], [210, 105], [280, 175]],imgPos:[205,131]},
                    {p: [[70, 105], [140, 175], [210, 105], [140, 35]],imgPos:[135,90]}];
                drawT(ctx, arr);
                break;
            case 5:
                arr= [{p: [[0, 210], [70, 280], [210, 280], [140, 210]],imgPos:[105,226]},
                    {p: [[210, 280], [140, 210], [280, 210]],imgPos:[205,226]},
                    {p: [[280, 200], [280, 130], [210, 130], [210, 200]],imgPos:[240,145]},
                    {p: [[130, 200], [130, 4], [228, 102]],imgPos:[160,90]},
                    {p: [[15, 200], [105, 160], [65, 60]],imgPos:[60,120]}];
                drawT(ctx, arr);
                break;
            case 6:
                arr= [{p: [[90, 270], [190, 270], [140, 210]],imgPos:[135,226]},
                    {p: [[140, 210], [250, 210], [210, 140]],imgPos:[195,165]},
                    {p: [[140, 210], [210, 140], [140, 70], [70, 140]],imgPos:[135,116]},
                    {p: [[210, 140], [140, 70], [210, 0]],imgPos:[180,56]},
                    {p: [[140, 70], [91, 21], [42, 70], [91, 119]],imgPos:[85,56]},
                    {p: [[0, 119], [42, 70], [91, 119]],imgPos:[40,81]}];
                drawT(ctx, arr);
                break ;
            case 7:
                arr= [{p: [[88, 270], [228, 270], [158, 200]],imgPos:[150,226]},
                    {p: [[128, 230], [193, 165], [128, 100]],imgPos:[150,146]},
                    {p: [[128, 100], [193, 35], [193, 165]],imgPos:[160,80]},
                    {p: [[193, 35], [93, 35], [143, 85]],imgPos:[140,40]},
                    {p: [[168, 190], [273, 190], [218, 140]],imgPos:[212,151]},
                    {p: [[128, 100], [73, 150], [128, 200]],imgPos:[102,131]},
                    {p: [[13, 190], [118, 190], [63, 140]],imgPos:[56,151]}];
                drawT(ctx, arr);
                break;
            case 8:
                arr= [{p: [[0, 210], [70, 280], [210, 280], [140, 210]],imgPos:[105,226]},
                    {p: [[210, 280], [140, 210], [280, 210]],imgPos:[205,226]},
                    {p: [[260, 210], [160, 210], [210, 161]],imgPos:[205,176]},
                    {p: [[0, 210], [140, 210], [70, 140]],imgPos:[65,166]},
                    {p: [[140, 70], [140, 210], [70, 140]],imgPos:[110,126]},
                    {p: [[140, 70], [70, 140], [0, 70]],imgPos:[70,86]},
                    {p: [[140, 70], [238, 70], [140, 168]],imgPos:[165,86]},
                    {p: [[98, 70], [238, 70], [168, 0]],imgPos:[160,26]}];
                drawT(ctx, arr);
                break;
            case 9:
                arr= [{p: [[70, 260], [140, 190], [210, 260]],imgPos:[135,216]},
                    {p: [[140, 190], [240, 190], [190, 140]],imgPos:[185,156]},
                    {p: [[40, 190], [140, 190], [90, 140]],imgPos:[85,156]},
                    {p: [[140, 90], [140, 190], [90, 140]],imgPos:[115,126]},
                    {p: [[140, 90], [140, 190], [190, 140]],imgPos:[155,126]},
                    {p: [[140, 90], [140, 20], [70, 90]],imgPos:[115,46]},
                    {p: [[140, 90], [140, 20], [210, 90]],imgPos:[155,46]},
                    {p: [[240, 190], [275, 155], [240, 120], [205, 155]],imgPos:[235,141]},
                    {p: [[40, 190], [75, 155], [40, 120], [5, 155]],imgPos:[35,141]}];
                drawT(ctx, arr);
                break ;
            case 10:
                arr= [{p: [[140, 250], [140, 180], [70, 180]],imgPos:[115,191]},
                    {p: [[140, 250], [140, 180], [210, 180]],imgPos:[155,191]},
                    {p: [[140, 180], [140, 110], [70, 180]],imgPos:[115,141]},
                    {p: [[140, 110], [210, 110], [210, 180],[140,180]],imgPos:[170,131]},
                    {p: [[70, 180], [140, 110], [70, 110]],imgPos:[95,115]},
                    {p: [[0, 180], [70, 180], [70, 110]],imgPos:[45,136]},
                    {p: [[210, 180], [280, 180], [210, 110]],imgPos:[225,136]},
                    {p: [[140, 110], [140, 60], [90, 60], [90, 110]],imgPos:[110,66]},
                    {p: [[140, 110], [140, 60], [190, 60], [190, 110]],imgPos:[160,66]},
                    {p: [[105, 60], [175, 60], [140, 25]],imgPos:[135,30]}];
                drawT(ctx, arr);
                break;
            case 11:
                arr= [{p: [[80, 270], [140, 210], [200, 270]],imgPos:[135,226]},
                    {p: [[140, 110], [140, 210], [90, 160]],imgPos:[120,141]},
                    {p: [[140, 110], [140, 210], [190, 160]],imgPos:[155,141]},
                    {p: [[140, 10], [140, 110], [90, 60]],imgPos:[120,41]},
                    {p: [[140, 10], [140, 110], [190, 60]],imgPos:[155,41]},
                    {p: [[140, 110], [90, 110], [90, 160]],imgPos:[105,111]},
                    {p: [[90, 110], [90, 160], [40, 160],[40,110]],imgPos:[60,121]},
                    {p: [[140, 110], [190, 110], [190, 160]],imgPos:[170,111]},
                    {p: [[190, 110], [240, 110], [240, 160], [190, 160]],imgPos:[210,121]},
                    {p: [[140, 110], [210, 110], [210, 40]],imgPos:[180,71]},
                    {p: [[140, 110], [70, 110], [70, 40]],imgPos:[90,71]}];
                drawT(ctx, arr);
                break;
            case 12:
                arr= [{p: [[140, 250], [140, 180], [70, 180]],imgPos:[115,191]},
                    {p: [[140, 250], [140, 180], [210, 180]],imgPos:[155,191]},
                    {p: [[140, 180], [140, 110], [70, 180]],imgPos:[115,136]},
                    {p: [[140, 110], [210, 110], [210, 180],[140,180]],imgPos:[170,131]},
                    {p: [[70, 180], [140, 110], [70, 110]],imgPos:[95,111]},
                    {p: [[70, 110], [70, 180], [0, 110]],imgPos:[45,116]},
                    {p: [[210, 110], [210, 180], [280, 110]],imgPos:[230,116]},
                    {p: [[280, 110], [280, 60], [230, 60],[230,110]],imgPos:[250,66]},
                    {p: [[0, 110], [50, 110], [50, 60], [0, 60]],imgPos:[20,66]},
                    {p: [[70, 110], [140, 110], [105, 80]],imgPos:[100,76]},
                    {p: [[140, 110], [210, 110], [175, 80]],imgPos:[170,76]},
                    {p: [[140, 110], [60, 40], [220, 40]],imgPos:[140,46]}];
                drawT(ctx, arr);
                break;
            case 13:
                arr= [{p: [[140, 260], [140, 190], [70, 190]],imgPos:[115,200]},
                    {p: [[140, 260], [140, 190], [210, 190]],imgPos:[155,200]},
                    {p: [[140, 190], [140, 120], [70, 190]],imgPos:[115,150]},
                    {p: [[140, 120], [210, 120], [210, 190],[140,190]],imgPos:[170,140]},
                    {p: [[70, 190], [140, 120], [70, 120]],imgPos:[85,130]},
                    {p: [[70, 120], [70, 190], [0, 120]],imgPos:[45,130]},
                    {p: [[210, 120], [210, 190], [280, 120]],imgPos:[235,120]},
                    {p: [[280, 120], [280, 70], [210, 70],[210,120]],imgPos:[245,80]},
                    {p: [[0, 120], [70, 120], [70, 70], [0, 70]],imgPos:[30,80]},
                    {p: [[70, 120], [70, 70], [120, 70]],imgPos:[80,70]},
                    {p: [[210, 120], [210, 70], [160, 120]],imgPos:[190,85]},
                    {p: [[210, 70], [160, 120], [70, 120],[120,70]],imgPos:[135,80]},
                    {p: [[70, 70], [210, 70], [140, 10]],imgPos:[135,30]}];
                drawT(ctx, arr);
                break;
            case 14:
                arr= [{p: [[30, 230], [85, 280], [195, 280],[140,230]],imgPos:[115,236]},
                    {p: [[195, 280], [140, 230], [250, 230]],imgPos:[190,231]},
                    {p: [[140, 230], [90, 180], [140, 130],[190,180]],imgPos:[135,160]},
                    {p: [[140, 130], [90, 180], [90, 80]],imgPos:[105,110]},
                    {p: [[90, 80], [40, 130], [90, 180]],imgPos:[65,110]},
                    {p: [[90, 80], [20, 80], [20, 150]],imgPos:[45,80]},
                    {p: [[190, 180], [140, 130], [190, 80]],imgPos:[165,110]},
                    {p: [[190, 180], [190, 80], [240, 130]],imgPos:[205,110]},
                    {p: [[190, 80], [260, 80], [260, 150]],imgPos:[235,80]},
                    {p: [[140, 130], [70, 60], [210, 60]],imgPos:[135,70]},
                    {p: [[140, 60], [140, 10], [90, 10],[90,60]],imgPos:[110,20]},
                    {p: [[140, 60], [140, 10], [190, 10],[190,60]],imgPos:[160,20]},
                    {p: [[90, 10], [90, 60], [40, 60]],imgPos:[70,20]},
                    {p: [[190, 10], [190, 60], [240, 60]],imgPos:[200,20]}];
                drawT(ctx, arr);
                break;
            default:
                arr=[];
        }
        function drawT(ctx, arr) {
            ctx.clearRect(0,0,280,280);
            var tangram = arr;
            var img=new Image();
            img.onload = function(){
                for (var i = 0; i <tangram.length; i++) {
                    /* $(".task-group").append("<div class='tasks_group'><span class='task_background' style='background-color:"+colorList[i]+"'></span><span class='task_tangram'>"+tangram_data[i].name+"</span><span class='taskLast_tangram'>"+(tangram_data[i].complete_percent).toFixed(1)+"%</span></div>");*/
                    var pos = tangram[i].p;
                    ctx.beginPath();
                    ctx.moveTo(pos[0][0], pos[0][1]);
                    for (var j = 1; j < pos.length; j++) {
                        ctx.lineTo(pos[j][0], pos[j][1]);
                    }
                    ctx.fillStyle = colorList[i];
                    ctx.closePath();
                    ctx.fill();
                    /*if(tangram_data[i].complete_percent==100){
                        ctx.drawImage(img,tangram[i].imgPos[0],tangram[i].imgPos[1],21,28);
                    }*/
                }

            };
        img.src="image/1.jpg";
        }
    })
</script>
</html>