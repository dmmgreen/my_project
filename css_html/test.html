<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="test">dddd1</div>
<div class="test">dddd2</div>
<div class="test">dddd3</div>
<div class="test">dddd4</div>
<div class="test">dddd5</div>
<div class="sure">确定</div>
<div class="cancel">取消</div>
</body>
<script src="js/jquery-1.9.1.min.js"></script>
<script>
    /*$(document).on("click",".test",function () {
       var _this=this,
           flag=true;
        $(".sure").on("click",function () {
            console.log(0);
            if(flag)
            $(_this).remove();
        });
        $(".cancel").on("click",function () {
            console.log("取消");
            flag=false;
        });
    });*/

  
    function getJSON(url) {
        return new Promise(function (resolve,reject) {
            var XHR=new XMLHttpRequest();
            XHR.open("GET",url,true);
            XHR.send();
            XHR.onreadystatechange=function () {
                if(XHR.readyState === 4){
                    if(XHR.status === 200){
                        try {
                            var response = JSON.parse(XHR.responseText);
                            resolve(response);
                        } catch (e) {
                            reject(e);
                        }
                    }else {
                        reject(new Error(XHR.statusText));
                    }
                }
            };
        });

    }
    function addLi() {
        var ul=document.querySelector("ul");
        var list=document.querySelectorAll("ul li");
        ul.addEventListener("click",function (e) {
            var ev=e || window.event;
            var target=ev.target || ev.srcElement;
            for(var i=0;l<list.length;i++){
                if(list[i] == target){
                    alert(i + "----" + target.innerHTML);
                }
            }
        })
    }
</script>
</html>